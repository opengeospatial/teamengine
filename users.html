<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.11.1 at 2024-02-14 
 | Rendered using Apache Maven Fluido Skin 1.6
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20240214" />
    <meta http-equiv="Content-Language" content="en" />
    <title>TEAM Engine &#x2013; User Guide</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.6.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
      <script type="text/javascript" src="./js/apache-maven-fluido-1.6.min.js"></script>
      </head>
    <body class="topBarDisabled">
      <div class="container-fluid">
      <div id="banner">
        <div class="pull-left"><a href="https://github.com/opengeospatial/teamengine" id="bannerLeft"><img src="./images/te-logo-small.png"  alt="TEAM Engine"/></a></div>
        <div class="pull-right"><a href="http://www.osgeo.org/incubator" id="bannerRight"><img src="./images/OSGeo_incubation.png"  alt="OSGeo Incubator"/></a></div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2024-02-14<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 6.0.0-RC1</li>
      <li class="pull-right"><span class="divider">|</span>
<a href="https://github.com/opengeospatial/teamengine/issues" class="externalLink" title="Issues">Issues</a></li>
      <li class="pull-right"><a href="https://github.com/opengeospatial/teamengine/wiki" class="externalLink" title="Wiki">Wiki</a></li>
        </ul>
      </div>
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
<ul class="nav nav-list">
          <li class="nav-header">Getting Started</li>
    <li><a href="index.html" title="Overview"><span class="none"></span>Overview</a>  </li>
    <li><a href="definitions.html" title="Definitions"><span class="none"></span>Definitions</a>  </li>
    <li><a href="installation.html" title="Installation"><span class="none"></span>Installation</a>  </li>
    <li class="active"><a href="#"><span class="none"></span>User's Guide</a>
  </li>
    <li><a href="virt-guide.html" title="Virtualization Guide"><span class="none"></span>Virtualization Guide</a>  </li>
          <li class="nav-header">Test Suite Development</li>
    <li><a href="testng-essentials.html" title="Using TestNG, Part 1: Essentials"><span class="none"></span>Using TestNG, Part 1: Essentials</a>  </li>
    <li><a href="testng-cookbook.html" title="Using TestNG, Part 2: Cookbook"><span class="none"></span>Using TestNG, Part 2: Cookbook</a>  </li>
    <li><a href="ctl.html" title="Using CTL Scripts"><span class="none"></span>Using CTL Scripts</a>  </li>
    <li><a href="encoding-conformance-classes.html" title="Encoding Conformance Classes"><span class="none"></span>Encoding Conformance Classes</a>  </li>
    <li><a href="profiles-guide.html" title="Application Profiles"><span class="none"></span>Application Profiles</a>  </li>
          <li class="nav-header">About</li>
    <li><a href="relnotes.html" title="Release Notes"><span class="none"></span>Release Notes</a>  </li>
  </ul>
          <hr />
          <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
  <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
              </div>
          </div>
        </div>
        <div id="bodyColumn"  class="span9" >
<h1>User Guide</h1>
<p>This document provides some general guidance about how to use TEAM Engine to
execute a test run and view the results. There are three ways to interact with
the test harness: a command shell, the web application, or a REST-like API.</p><section>
<h2><a name="Command_shell"></a>Command shell</h2>
<p>The console application bin archive (teamengine-console-${project.version}-bin.zip)
includes shell scripts for running test suites in Windows and Unix-like
(Bash shell) environments. Unpack the archive into a convenient location
(TE_HOME); the contents are as shown below.</p>

<div class="source"><pre class="prettyprint"><code>TE_HOME
  |-- bin/        # shell scripts (windows, unix)
  |-- lib/        # supporting libraries
  |-- resources/  # classpath resources (schemas, etc.)
</code></pre></div>
<p>The console application base archive (teamengine-console-${project.version}-base.zip)
contains the initial contents of a teamengine instance directory.
The archive should be unpacked into another convenient location (TE_BASE),
as specified in the <a href="./installation.html">Installation</a> instructions.
Test scripts should be installed in the TE_BASE/scripts directory.</p>
<p>If desired, set the value of the <code>TE_BASE</code> environment variable in the
<code>setenv</code> script; otherwise set it for the user environment according to
the particulars of the operating system in use. Once this is done,
change to the appropriate script directory (TE_HOME/bin/{unix,windows})
or add it to the system path.</p>
<p>Generate the main config file in TE_BASE using the <code>config</code> shell script.
This aggregates the config files for the inidividual test suites into one.</p>

<div class="source"><pre class="prettyprint"><code>&gt; config

INFO: SUCCESSFULLY created config.xml at C:\te-build\TE_BASE\config.xml
</code></pre></div><section>
<h3><a name="Listing_test_suites"></a>Listing test suites</h3>
<p>Use the <code>listsuites</code> shell script to list the test suites that are available.</p>

<div class="source"><pre class="prettyprint"><code>&gt; listsuites

Source: C:\te-build\TE_BASE\scripts\gml32\3.2.1\ctl
  Suite tns:ets-gml32-1.29 ({http://www.opengis.net/cite/iso19136}ets-gml32-1.29)
  Title: GML 3.2 Conformance Test Suite - Application Schemas
  Description: This executable test suite (ETS) validates GML application
     schemas or data in accord with ISO 19136:2007.


Source: C:\te-build\TE_BASE\scripts\wms13\1.3.0\ctl
  Suite wms-1.3.0:ets-wms13-auto ({https://cite.opengeospatial.org/wms-1.3.0/src/ctl}ets-wms13-auto)
  Title: Web Map Service (WMS) 1.3.0
  Description: Validates that a WMS 1.3.0 is compliant.

  Suite wms-1.3.0:ets-wms13 ({https://cite.opengeospatial.org/wms-1.3.0/src/ctl}ets-wms13)
  Title: Web Map Service (WMS) 1.3.0
  Description: Validates that a WMS 1.3.0 is compliant.
</code></pre></div></section><section>
<h3><a name="Executing_a_test_suite_interactively"></a>Executing a test suite interactively</h3>
<p>To execute a test suite, use the <code>test</code> shell script.  Pass it the source directory
containing ctl files, either as an absolute filesystem location or relative to TE_BASE/scripts.
If more than one test suite exists for the source directory, pass in the suite name as well.</p>

<div class="source"><pre class="prettyprint"><code>&gt; test -source=wms13\1.3.0\ctl -suite=wms-1.3.0:ets-wms13

...
Testing suite wms-1.3.0:ets-wms13 in Test Mode with defaultResult of Pass ...
******************************************************************************************************************************
   Testing main:main type Mandatory in Test Mode with defaultResult Pass (s0023)...
      Assertion: The implementation under test complies with the WMS 1.3.0 specification.
******************************************************************************************************************************
      Testing main:data-independent type Mandatory in Test Mode with defaultResult Pass (s0023/d7152e18184_1)...
         Context: WMS_Capabilities element
         Assertion: Dataset independent request behaves properly.
******************************************************************************************************************************
         Testing interactive:interactive type Mandatory in Test Mode with defaultResult Pass (s0023/d7152e18184_1/d7152e18295_1)...
            Context: WMS_Capabilities element
            Assertion: The tests that require user interaction behave properly.
...
</code></pre></div>
<p>The test results will be written to a subdirectory
<i>sNNNN</i> created in TE_BASE/users/<i>username</i>/.</p></section><section>
<h3><a name="Executing_a_test_suite_non-interactively"></a>Executing a test suite non-interactively</h3>
<p>It is possible to run the tests in a headless, unattended manner by providing
files containing the form responses. Form files are specified via the <code>-form</code>
parameter, more than one form can be provided using multiple <code>-form</code> parameters.
For example, the WMS 1.1.1 tests can be run with the following command:</p>

<div class="source"><pre class="prettyprint"><code> $ test.sh -source=wms/1.1.1/ctl/ \
   -form=forms/wms-1.1.1.xml \
   -form=forms/yes.xml
</code></pre></div>
<p>Where <code>forms/wms-1.1.1.xml</code> is:</p>

<div class="source"><pre class="prettyprint"><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
 &lt;values&gt;
   &lt;value key=&quot;VAR_WMS_CAPABILITIES_URL&quot;&gt;
   http://host1/wms?service=WMS&amp;amp;version=1.1.1&amp;amp;request=GetCapabilities
   &lt;/value&gt;
   &lt;value key=&quot;updatesequence&quot;&gt;auto_updatesequence&lt;/value&gt;
   &lt;value key=&quot;VAR_HIGH_UPDATESEQUENCE&quot;&gt;100&lt;/value&gt;
   &lt;value key=&quot;VAR_LOW_UPDATESEQUENCE&quot;&gt;0&lt;/value&gt;
   &lt;value key=&quot;CERT_PROFILE&quot;&gt;queryable_profile&lt;/value&gt;
   &lt;value key=&quot;recommended&quot;&gt;recommended&lt;/value&gt;
   &lt;value key=&quot;testgml&quot;&gt;testgml&lt;/value&gt;
   &lt;value key=&quot;free&quot;&gt;free&lt;/value&gt;
   &lt;value key=&quot;B_BOX_CONSTRAINT&quot;&gt;eitherbboxconstraint&lt;/value&gt;
 &lt;/values&gt;
</code></pre></div>
<p>and <code>forms/yes.xml</code> is:</p>

<div class="source"><pre class="prettyprint"><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
 &lt;values&gt;
   &lt;value key=&quot;submit&quot;&gt;yes&lt;/value&gt;
   &lt;value key=&quot;answer&quot;&gt;yes&lt;/value&gt;
 &lt;/values&gt;
</code></pre></div>
<p>The form files are used by TEAM Engine in the same order as provided on the command line.
In case that the test requires filling more forms than provided on the command line, the last provided form is
going to be used multiple times: for example, in the WMS 1.1.1 case, the test will ask the user to visually
confirm visual relationships between two maps, the <code>yes.xml</code> form will be used for all those
requests.</p>
<p>After the test is invoked via command line, the console output will retrieve the information
from the forms before providing the test results.</p>
<p>For example:</p>

<div class="source"><pre class="prettyprint"><code>  INFO: Setting form results:
   &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
  &lt;values&gt;
     &lt;value key=&quot;VAR_WMS_CAPABILITIES_URL&quot;&gt;
     http://host1/wms?service=WMS&amp;amp;version=1.1.1&amp;amp;request=GetCapabilities
     &lt;/value&gt;
     &lt;value key=&quot;updatesequence&quot;&gt;auto_updatesequence&lt;/value&gt;
     &lt;value key=&quot;VAR_HIGH_UPDATESEQUENCE&quot;&gt;100&lt;/value&gt;
     &lt;value key=&quot;VAR_LOW_UPDATESEQUENCE&quot;&gt;&lt;/value&gt;
     &lt;value key=&quot;CERT_PROFILE&quot;&gt;queryable_profile&lt;/value&gt;
     &lt;value key=&quot;testgml&quot;&gt;testgml&lt;/value&gt;
     &lt;value key=&quot;free&quot;&gt;free&lt;/value&gt;
     &lt;value key=&quot;B_BOX_CONSTRAINT&quot;&gt;eitherbboxconstraint&lt;/value&gt;
  &lt;/values&gt;
  
  Testing suite wms:main_wms in Test Mode with defaultResult of Pass ...
  ...
  Testing wms:wmsops-getmap-params-bbox-2 type Mandatory in Test 
  Mode with defaultResult Pass (s0004/d275e678_1)...
     Assertion: When a GetMap request uses decimal values for the 
     BBOX parameter, then the response is valid.

  Jul 12, 2015 2:44:20 PM com.occamlab.te.TECore setFormResults
  INFO: Setting form results:
   &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
  &lt;values&gt;
    &lt;value key=&quot;submit&quot;&gt;yes&lt;/value&gt;
    &lt;value key=&quot;answer&quot;&gt;yes&lt;/value&gt;
  &lt;/values&gt;
        Test wms:wmsops-getmap-params-bbox-2 Passed
</code></pre></div></section><section>
<h3><a name="Reviewing_test_suite_results"></a>Reviewing test suite results</h3>
<p>As you execute a test suite with the test shell script, test results will
be written to the console window.  However, the output may be interspersed with
log meesages that make the results hard to read.  For a simple overview of the
session results, use the <code>viewlog</code> shell script.  Pass it the name of your session directory.</p>

<div class="source"><pre class="prettyprint"><code>&gt; viewlog -session=s0023

Test main:main type Mandatory (s0023) Failed (InheritedFailure)
   Test main:data-independent type Mandatory (s0023/d7152e18184_1) Failed (InheritedFailure)
      Test interactive:interactive type Mandatory (s0023/d7152e18184_1/d7152e18295_1) Passed
         Test interactive:exceptions-inimage type Mandatory (s0023/d7152e18184_1/d7152e18295_1/d7152e1351_1) Passed
         Test interactive:fees-and-access-constraints type Mandatory (s0023/d7152e18184_1/d7152e18295_1/d7152e1354_1) Passed
      Test basic_elements:basic_elements type Mandatory (s0023/d7152e18184_1/d7152e18297_1) Passed
         Test basic_elements:version-negotiation type Mandatory (s0023/d7152e18184_1/d7152e18297_1/d7152e496_1) Passed
            Test basic_elements:negotiate-no-version type Mandatory (s0023/d7152e18184_1/d7152e18297_1/d7152e496_1/d7152e514_1) Passed
            Test basic_elements:negotiate-basic_elements-version type Mandatory (s0023/d7152e18184_1/d7152e18297_1/d7152e496_1/d7152e516_1) Passed
            Test basic_elements:negotiate-higher-version type Mandatory (s0023/d7152e18184_1/d7152e18297_1/d7152e496_1/d7152e518_1) Passed
                Test basic_elements:negotiate-lower-version type Mandatory (s0023/d7152e18184_1/d7152e18297_1/d7152e496_1/d7152e520_1) Passed
...
</code></pre></div>
<p>For a more detailed log of an individual test, pass the complete path of a test to the viewlog script.</p>

<div class="source"><pre class="prettyprint"><code>&gt; viewlog s0023/d7152e18203_1/d7152e12205_1/d7152e12250_1/d7152e12314_1

Test basic:bbox-exponential type Mandatory default result Passed (s0023/d7152e18203_1/d7152e12205_1/d7152e12250_1/d7152e12314_1)

Assertion: When a GetMap request uses exponential notation values for the BBOX parameter, then the response is valid.

Context:
   Label:
   Value: WMS_Capabilities element

Request d7152e12390_1:
   Method: get
   URL: http://localhost:8080/geoserver/ows?SERVICE=WMS&amp;&amp;LaYeRs=,,,,,,,&amp;FoRmAt=image%2Fpng&amp;CrS=CRS:84&amp;VeRsIoN=1.3.0&amp;WiDtH=400&amp;StYlEs=&amp;HeIgHt=200&amp;BbOx=-0.005,-0.0025,0.005,0.0025&amp;ReQuEsT=GetMap
   Response from parser parsers:ImageParser:

   Messages from parser parsers:ImageParser:
        No image handlers available for the data stream. null


Request d7152e12461_1:
   Method: get
   URL: http://localhost:8080/geoserver/ows?SERVICE=WMS&amp;&amp;VeRsIoN=1.3.0&amp;HeIgHt=200&amp;WiDtH=400&amp;CrS=CRS:84&amp;LaYeRs=,,,,,,,&amp;StYlEs=&amp;FoRmAt=image%2Fpng&amp;ReQuEsT=GetMap&amp;BbOx=-.0005E1,-25E-4,%2B05E-3,.00025E%2B1
   Response from parser parsers:ImageParser:

   Messages from parser parsers:ImageParser:
        No image handlers available for the data stream. null


Message d7152e12533_1:
   Error: The image produced using exponential notation in the bbox is not the same as the image produced without using exponential notation.

Result: Failed
</code></pre></div>
<p>It's also possible to generate reports of the session results.</p>
<p>For the &#x201c;Pretty Print&#x201d; report, pass in the session directory and use -pp</p>

<div class="source"><pre class="prettyprint"><code>&gt; viewlog -session=s0023 -pp

Generated C:\te-build\TE_BASE\users\adam\s0023\report.html
</code></pre></div>
<p>For EARL and HTML results, pass in the session directory and use -html</p>

<div class="source"><pre class="prettyprint"><code>&gt; viewlog -session=s0023 -html

Generated EARL report C:\te-build\TE_BASE\users\adam\s0023\earl-results.rdf
Generated HTML report C:\te-build\TE_BASE\users\adam\s0023\result\index.html
</code></pre></div></section></section><section>
<h2><a name="Web_application"></a>Web application</h2><section>
<h3><a name="Using_the_Web_Browser_Interface"></a>Using the Web Browser Interface</h3>
<p>The web application (teamengine.war) provides a user interface for selecting
test suites, browsing test documentation, and launching test runs. The welcome
page (e.g. <a class="externalLink" href="http://localhost:8080/teamengine">http://localhost:8080/teamengine</a>) displays a list of all available
test suites. In a new installation a sample suite for the fictitious &#x201c;XML Note&#x201d;
specification should appear. The listed test suites correspond to entries in
the main configuration file located at TE_BASE/config.xml.</p>
<p>Select &#x201c;Login&#x201d; and then supply the appropriate credentials or register
to create a new user account. After logging in, previous test sessions
are displayed. Select &#x201c;Create new session&#x201d; and choose a test suite to
execute.</p></section><section>
<h3><a name="Using_the_REST_API"></a>Using the REST API</h3>
<p>A simple REST API (based on <a class="externalLink" href="http://jcp.org/en/jsr/detail?id=311">JAX-RS 1.1</a>)
enables programmatic execution of many test suites; it is comprised of the following
end points:</p>
<table border="0" class="table table-striped">
<thead>

<tr class="a">
<th>URI (relative to base)</th>
<th>Resource</th>
<th>Method(s)</th>
<th>Response media type</th></tr>
</thead><tbody>

<tr class="b">
<td align="left">/rest/suites</td>
<td>List of available test suites</td>
<td>GET</td>
<td>application/xhtml+xml</td></tr>
<tr class="a">
<td align="left">/rest/suites/{etsCode}</td>
<td>Test suite documentation</td>
<td>GET</td>
<td>application/xhtml+xml</td></tr>
<tr class="b">
<td align="left">/rest/suites/{etsCode}/run</td>
<td>Test run controller</td>
<td>GET, POST</td>
<td>application/rdf+xml, application/xml, application/zip</td></tr>
</tbody>
</table>
<p>In the request URIs the <code>{etsCode}</code> parameter denotes the
test suite code (example: &#x201c;wfs20&#x201d;), respectively, for a particular test suite.</p>
<p><img src="./images/warn-16px.png" alt="warning" /> <b>Warning:</b> When using the REST API, if any
test run argument includes a URI value that contains an ampersand (&#x2018;&amp;&#x2019;)
character in the query component, it must be percent-encoded as %26 since
it is a &#x201c;data octet&#x201d; in this context (see <a class="externalLink" href="http://tools.ietf.org/html/rfc3986#section-2.1">RFC 3986, sec.
2.1</a>).</p>
<p>The list of available test suites is presented as a brief HTML document (XHTML syntax) that contains
links to the deployed test suites. While the document can be displayed in a web browser for human
viewers, it can also be consumed and parsed by other software applications in order to facilitate
test execution. For example, a service description in a registry could be automatically annotated
with information about its conformance status by running a test suite and inspecting the results.</p>
<p>List of deployed test suites (XHTML syntax):</p>

<div class="source"><pre class="prettyprint"><code>&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;suites/wfs20/1.25/&quot; id=&quot;wfs20-1.25&quot; type=&quot;text/html&quot;&gt;WFS 2.0 (ISO 19142:2010) Conformance Test Suite&lt;/a&gt;&lt;/li&gt;       
  &lt;li&gt;&lt;a href=&quot;suites/gml32/1.24/&quot; id=&quot;gml32-1.24&quot; type=&quot;text/html&quot;&gt;GML (ISO 19136:2007) Conformance Test Suite, Version 3.2.1&lt;/a&gt;&lt;/li&gt;
  &lt;!-- other available test suites --&gt;
&lt;/ul&gt;
</code></pre></div>
<p>When the link for a particular test suite is dereferenced a summary document is obtained. This
document briefly describes the test suite and contains a table of test run arguments. Each
input argument is a separate entry in the body of an HTML table as shown in the listing below.</p>
<p>Test run arguments for the WFS 2.0 test suite (raw HTML):</p>

<div class="source"><pre class="prettyprint"><code>&lt;tbody&gt;
  &lt;tr id=&quot;wfs&quot;&gt;
    &lt;td&gt;wfs&lt;/td&gt;
    &lt;td&gt;URI&lt;/td&gt;
    &lt;td&gt;M&lt;/td&gt;
    &lt;td&gt;A URI that refers to a representation of the service capabilities document. 
    This document does not need to be obtained from the service under test (SUT),
    but it must describe the SUT. Ampersand ('&amp;amp;') characters appearing within 
    a query parameter value must be percent-encoded as %26.&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr id=&quot;fid&quot;&gt;
    &lt;td&gt;fid&lt;/td&gt;
    &lt;td&gt;NCName&lt;/td&gt;
    &lt;td&gt;O&lt;/td&gt;
    &lt;td&gt;An identifier that matches the @gml:id attribute value of an available feature 
    instance (may be omitted for &quot;Basic WFS&quot; implementations).&lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
</code></pre></div>
<p>Description of test run arguments presented in a web browser:</p>
<p><img src="images/test-run-args.png" alt="Test run arguments in browser" /></p>
<p>A test run is initiated by submitting a request to the test run controller. The summary
description lists the test run arguments (mandatory, conditional, optional) that are
recognized by the controller. A test suite can be invoked using a simple GET request in most cases.
For example, to test a WFS 2.0 implementation the target URI is constructed as follows (replace
localhost:8080 with the actual host name and port number of an available teamengine installation):</p>

<div class="source"><pre class="prettyprint"><code>http://localhost:8080/teamengine/rest/suites/wfs20/1.25/run?wfs={wfs-capabilities-url}
</code></pre></div>
<p>where <code>{wfs-capabilities-url}</code> is the URL to retrieve the capabilities document for the
implementation under test (IUT). Note that this need not be obtained directly from the IUT&#x2013;it could be fetched from elsewhere (e.g. a service registry), as long as it describes the
same service.</p>
<p>TEAM Engine provides three different types of result formats for test runs. The requested content type is set via HTTP request header:</p>
<table border="0" class="table table-striped">
<thead>

<tr class="a">
<th>Format of resource</th>
<th>HTTP request header</th></tr>
</thead><tbody>

<tr class="b">
<td align="left">EARL (RDF/XML)</td>
<td>Accept: application/rdf+xml</td></tr>
<tr class="a">
<td align="left">XML</td>
<td>Accept: application/xml</td></tr>
<tr class="b">
<td align="left">ZIP containing HTML files</td>
<td>Accept: application/zip</td></tr>
</tbody>
</table>
<p>With TEAM Engine 4.9 or later it is also possible to invoke a CTL test suite in this manner.
However, a controller must be available in order to do this. The <a class="externalLink" href="https://github.com/opengeospatial/ets-wms13">https://github.com/opengeospatial/ets-wms13</a>[WMS 1.3]
test suite contains a <a class="externalLink" href="https://github.com/opengeospatial/ets-wms13/blob/master/src/main/java/org/opengis/cite/wms13/CtlController.java">https://github.com/opengeospatial/ets-wms13/blob/master/src/main/java/org/opengis/cite/wms13/CtlController.java</a>[CtlController class]
that serves as an example of how to enable this capability in other CTL test suites.</p>
<p>If a test suite is being deployed manually, a couple of steps are required to set
up an executable test suite (ETS) that was implemented using the TestNG framework.
Note that the first step is <b>not</b> required in order to use the REST API.</p>
<ol style="list-style-type: decimal">

<li>Unpack the *-ctl.zip archive into the TE_BASE/scripts directory;
it includes test suite documentation and a simple CTL wrapper script
that invokes the main controller.</li>
<li>Put the ETS component (a binary JAR file) and its dependencies into
the <code>TE_BASE/resources/lib</code> directory.</li>
</ol>
<p>The <code>*-deps</code> archive assembles the ETS and its dependencies into a single bundle that
is unpacked into the lib directory in the last step. In some cases it may be necessary
to add other (transitive) dependencies. The Tomcat instance does not need to be restarted
to enable the test suite&#x2013;it should be available immediately.</p><section>
<h4><a name="Authentication"></a>Authentication</h4>
<p>Authentication is activated for the REST API. Users need to send their username and password along with any request to the REST API using the HTTP &#x201c;basic&#x201d; authentication scheme. The Teamengine login credentials are used for the authentication. The following example shows a curl request with the necessary authorization header:</p>
<p>curl &#x2018;<a class="externalLink" href="http://localhost:8081/teamengine/rest/suites/$your_test_suite$/run">http://localhost:8081/teamengine/rest/suites/$your_test_suite$/run</a>&#x2019; -H &#x2018;Authorization: Basic $your_encoded_credentials$&#x2019;</p></section><section>
<h4><a name="Output_formats"></a>Output formats</h4><section>
<h5><a name="EARL_.28RDF.2FXML.29"></a>EARL (RDF/XML)</h5>
<p>The REST API supports the W3C Evaluation and Report Language (EARL, 1.0 Schema) as output format. The
specification (currently a late stage working draft) defines an RDF vocabulary for
describing test results:</p>
<ul>

<li><a class="externalLink" href="http://www.w3.org/TR/EARL10-Schema/">http://www.w3.org/TR/EARL10-Schema/</a>[Evaluation and Report Language (EARL) 1.0 Schema]</li>
<li><a class="externalLink" href="http://www.w3.org/TR/EARL10-Guide/">http://www.w3.org/TR/EARL10-Guide/</a>[Developer Guide for EARL 1.0]</li>
<li><a class="externalLink" href="https://www.w3.org/TR/HTTP-in-RDF10/">https://www.w3.org/TR/HTTP-in-RDF10/</a>[HTTP Vocabulary in RDF 1.0]</li>
<li><a class="externalLink" href="https://www.w3.org/TR/Content-in-RDF10/">https://www.w3.org/TR/Content-in-RDF10/</a>[Representing Content in RDF 1.0]</li>
</ul>
<p>The following listing shows how conformance classes are described using the EARL vocabulary.
An <code>earl:TestRequirement</code> instance represents a conformance class; it has one or more
constituent tests (<code>earl:TestCase</code>). Furthermore, a dependency may be expressed using
the <i>dct:requires</i> property. In this example, <i>Conformance level 2</i> is based on
<i>Conformance level 1</i> and thus establishes a higher level of conformance.</p>
<p>Conformance classes in EARL results (RDF/XML):</p>

<div class="source"><pre class="prettyprint"><code>&lt;rdf:RDF xmlns:rdf=&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;
     xmlns:earl=&quot;http://www.w3.org/ns/earl#&quot;      
     xmlns:dct=&quot;http://purl.org/dc/terms/&quot;&gt;
  &lt;earl:TestRequirement rdf:about=&quot;http://www.opengis.net/spec/KML/2.3/conf/level-1&quot;&gt;
    &lt;dct:title xml:lang=&quot;en&quot;&gt;KML 2.3 - Conformance Level 1&lt;/dct:title&gt;
    &lt;dct:description xml:lang=&quot;en&quot;&gt;Conformance Level 1 includes test cases that address 
      absolute requirements. A KML document must satisfy all assertions at this level to 
      achieve minimal conformance&lt;/dct:description&gt;
    &lt;dct:isPartOf rdf:resource=&quot;http://docs.opengeospatial.org/ts/14-068r2/14-068r2.html&quot;/&gt;
    &lt;dct:hasPart&gt;
      &lt;earl:TestCase rdf:about=&quot;http://www.opengis.net/spec/KML/2.3/conf/level-1/atc-101&quot;&gt;
      &lt;dct:description&gt;Verify that the root element of the document has [local name] = &quot;kml&quot; 
        and [namespace name] = &quot;http://www.opengis.net/kml/2.3&quot;.&lt;/dct:description&gt;
      &lt;dct:title&gt;Document element&lt;/dct:title&gt;
      &lt;/earl:TestCase&gt;
    &lt;/dct:hasPart&gt;
  &lt;!-- other constituent test cases omitted --&gt;
  &lt;/earl:TestRequirement&gt;
  &lt;earl:TestRequirement rdf:about=&quot;http://www.opengis.net/spec/KML/2.3/conf/level-2&quot;&gt;
    &lt;dct:title xml:lang=&quot;en&quot;&gt;KML 2.3 - Conformance Level 2&lt;/dct:title&gt;
    &lt;dct:description xml:lang=&quot;en&quot;&gt;Includes all tests in Level 1, plus test cases covering 
      requirements that should be satisfied by a KML document. Non-conformance at this 
      level may hinder the utility, portability, or interoperability of the document.&lt;/dct:description&gt;
    &lt;dct:requires rdf:resource=&quot;http://www.opengis.net/spec/KML/2.3/conf/level-1&quot;/&gt;
    &lt;!-- constituent test cases omitted --&gt;
  &lt;/earl:TestRequirement&gt;
&lt;/rd:RDF&gt;
</code></pre></div>
<p>The EARL vocabulary does not define any terms that pertain to a test run by itself. A custom
vocabulary was introduced for this purpose. A <code>cite:TestRun</code> resource provides basic summary
information about a test run, including the input arguments and an overall tally of test
verdicts. Standard <a class="externalLink" href="http://dublincore.org/documents/dcmi-terms/">http://dublincore.org/documents/dcmi-terms/</a>[Dublin Core metadata terms]
are employed where appropriate. For example, the dct:extent property reports the temporal
extent of the test run; that is, its total duration represented using the XML Schema
<a class="externalLink" href="https://www.w3.org/TR/xmlschema-2/#duration">https://www.w3.org/TR/xmlschema-2/#duration</a>[duration datatype].</p>
<p>A TestRun resource:</p>

<div class="source"><pre class="prettyprint"><code>&lt;cite:TestRun xmlns:cite=&quot;http://cite.opengeospatial.org/&quot;&gt;
  &lt;dct:extent rdf:datatype=&quot;http://www.w3.org/2001/XMLSchema#duration&quot;&gt;PT6M30.204S&lt;/dct:extent&gt;
  &lt;dct:title&gt;wfs20-1.25&lt;/dct:title&gt;
  &lt;cite:testsSkipped rdf:datatype=&quot;http://www.w3.org/2001/XMLSchema#int&quot;&gt;1&lt;/cite:testsSkipped&gt;
  &lt;cite:testsPassed rdf:datatype=&quot;http://www.w3.org/2001/XMLSchema#int&quot;&gt;298&lt;/cite:testsPassed&gt;
  &lt;cite:testsFailed rdf:datatype=&quot;http://www.w3.org/2001/XMLSchema#int&quot;&gt;46&lt;/cite:testsFailed&gt;
  &lt;dct:created&gt;2016-10-25T17:33:31.290Z&lt;/dct:created&gt;
  &lt;cite:inputs&gt;
    &lt;rdf:Bag&gt;
      &lt;rdf:li rdf:parseType=&quot;Resource&quot;&gt;
        &lt;dct:title&gt;wfs&lt;/dct:title&gt;
        &lt;dct:description&gt;http://example.org/services/wfs?service=WFS&amp;amp;request=GetCapabilities&lt;/dct:description&gt;
      &lt;/rdf:li&gt;
      &lt;rdf:li rdf:parseType=&quot;Resource&quot;&gt;
        &lt;dct:title&gt;xsd&lt;/dct:title&gt;
        &lt;dct:description&gt;http://example.org/services/wfs?service=WFS&amp;amp;version=2.0.0&amp;amp;request=DescribeFeatureType&lt;/dct:description&gt;
      &lt;/rdf:li&gt;
    &lt;/rdf:Bag&gt;
  &lt;/cite:inputs&gt;
  &lt;dct:identifier&gt;8ed93bd8-b366-4d4f-b868-c8e5aeccfbaa&lt;/dct:identifier&gt;
&lt;/cite:TestRun&gt;
</code></pre></div></section><section>
<h5><a name="XML"></a>XML</h5>
<p>The output format XML of the test results is framework-specific: for TestNG, this is an XML
representation having <i>testng-results</i> as the document element. The results of running a
CTL test suite also produce XML output, with <i>execution</i> as the document element.</p><section>
<h6><a name="CTL_XML"></a>CTL XML</h6>
<p>A successful response contains an XML entity that represents the test results. The root
element contains a <i>log</i> child element for each test that was run. The first log entry
indicates the overall verdict; the value of the endtest/@result attribute is an integer
code that signifies a test verdict (see table below).</p>
<table border="0" class="table table-striped">
<thead>

<tr class="a">
<th>Code</th>
<th>Result</th></tr>
</thead><tbody>

<tr class="b">
<td align="left">1</td>
<td>Passed</td></tr>
<tr class="a">
<td align="left">2</td>
<td>Not Tested</td></tr>
<tr class="b">
<td align="left">3</td>
<td>Skipped</td></tr>
<tr class="a">
<td align="left">4</td>
<td>Warning</td></tr>
<tr class="b">
<td align="left">5</td>
<td>Inherited Failure</td></tr>
<tr class="a">
<td align="left">6</td>
<td>Failed</td></tr>
</tbody>
</table>
<p>If a constituent test failed, the overall verdict is set as <i>Inherited Failure</i> (5).
In general, a failed subtest will &#x201c;taint&#x201d; all of its ancestor tests in this manner.</p></section></section></section></section></section><section>
<h2><a name="Generate_TE_Statistics_Report"></a>Generate TE Statistics Report</h2>
<p>The statistics report is accessible via teamengine API and only admin can access this report. The following URL is used to get the report:</p>
<p><a class="externalLink" href="http://HOST/teamengine/rest/stats">http://HOST/teamengine/rest/stats</a></p>
<ol style="list-style-type: decimal">

<li>User needs to login with TE credential in generated prompt.</li>
<li>After successful authentication, it will download the zip containing index.html and standard specific files.</li>
<li>TE statistics has the following types of report:
<ul>

<li>Number of tests executed per standard</li>
<li>Number of tests and users executed per month</li>
<li>Number of users per test suite</li>
<li>Table of test suite specific report</li>
</ul>
</li>
</ol>
<p><b>Following steps are required to become an admin:</b></p>
<ol style="list-style-type: decimal">

<li>

<p>Open file from the TE_BASE/users/${username}/user.xml</p>
</li>
<li>

<p>Add the &lt;name&gt;admin&lt;/name&gt; element under the &lt;roles&gt; and it should look like as below:</p>

<div class="source"><pre class="prettyprint"><code> &lt;roles&gt;
     &lt;name&gt;user&lt;/name&gt;
     &lt;name&gt;admin&lt;/name&gt;
 &lt;/roles&gt;
</code></pre></div>
</li>
</ol></section>
        </div>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright &copy;2024
<a href="http://www.opengeospatial.org/">Open Geospatial Consortium</a>.
All rights reserved.</p>
        </div>
        </div>
    </footer>
    </body>
</html>