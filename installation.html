<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.7.4 at 2023-04-14 
 | Rendered using Apache Maven Fluido Skin 1.6
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20230414" />
    <meta http-equiv="Content-Language" content="en" />
    <title>TEAM Engine &#x2013; Installation</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.6.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
      <script type="text/javascript" src="./js/apache-maven-fluido-1.6.min.js"></script>
      </head>
    <body class="topBarDisabled">
      <div class="container-fluid">
      <div id="banner">
        <div class="pull-left"><a href="https://github.com/opengeospatial/teamengine" id="bannerLeft"><img src="./images/te-logo-small.png"  alt="TEAM Engine"/></a></div>
        <div class="pull-right"><a href="http://www.osgeo.org/incubator" id="bannerRight"><img src="./images/OSGeo_incubation.png"  alt="OSGeo Incubator"/></a></div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2023-04-14<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 5.6.1</li>
      <li class="pull-right"><span class="divider">|</span>
<a href="https://github.com/opengeospatial/teamengine/issues" class="externalLink" title="Issues">Issues</a></li>
      <li class="pull-right"><a href="https://github.com/opengeospatial/teamengine/wiki" class="externalLink" title="Wiki">Wiki</a></li>
        </ul>
      </div>
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
<ul class="nav nav-list">
          <li class="nav-header">Getting Started</li>
    <li><a href="index.html" title="Overview"><span class="none"></span>Overview</a>  </li>
    <li><a href="definitions.html" title="Definitions"><span class="none"></span>Definitions</a>  </li>
    <li class="active"><a href="#"><span class="none"></span>Installation</a>
  </li>
    <li><a href="users.html" title="User's Guide"><span class="none"></span>User's Guide</a>  </li>
    <li><a href="virt-guide.html" title="Virtualization Guide"><span class="none"></span>Virtualization Guide</a>  </li>
          <li class="nav-header">Test Suite Development</li>
    <li><a href="testng-essentials.html" title="Using TestNG, Part 1: Essentials"><span class="none"></span>Using TestNG, Part 1: Essentials</a>  </li>
    <li><a href="testng-cookbook.html" title="Using TestNG, Part 2: Cookbook"><span class="none"></span>Using TestNG, Part 2: Cookbook</a>  </li>
    <li><a href="ctl.html" title="Using CTL Scripts"><span class="none"></span>Using CTL Scripts</a>  </li>
    <li><a href="encoding-conformance-classes.html" title="Encoding Conformance Classes"><span class="none"></span>Encoding Conformance Classes</a>  </li>
    <li><a href="profiles-guide.html" title="Application Profiles"><span class="none"></span>Application Profiles</a>  </li>
          <li class="nav-header">About</li>
    <li><a href="relnotes.html" title="Release Notes"><span class="none"></span>Release Notes</a>  </li>
  </ul>
          <hr />
          <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
  <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
              </div>
          </div>
        </div>
        <div id="bodyColumn"  class="span9" >
<h1>Installation</h1>
<div class="section">
<h2><a name="Quick_install"></a>Quick install</h2>
<p>The <tt>teamengine-virtualization</tt> module enables the automatic creation of a fully provisioned server image that can be deployed and run on a dynamic infrastructure platform such as <a class="externalLink" href="https://aws.amazon.com/ec2/">Amazon EC2</a> and <a class="externalLink" href="https://www.virtualbox.org/">VirtualBox</a>. See the <a href="./virt-guide.html">Virtualization Guide</a> for instructions.</p>
<p>The <a class="externalLink" href="https://github.com/opengeospatial/teamengine-builder">TEAM Engine Builder project</a> provides another way to build TEAM Engine and selected OGC test suites on a physical or virtual machine. Shell scripts for Windows and Unix-like systems are available. Detailed instructions are provided in the tutorial.</p></div>
<div class="section">
<h2><a name="Download_and_build_from_source"></a>Download and build from source</h2>
<div class="section">
<h3><a name="Prerequisites"></a>Prerequisites</h3>

<ul>
  
<li><b>Java 8</b>: Download the Java Development Kit (JDK) 8, from <a class="externalLink" href="https://www.oracle.com/uk/java/technologies/javase/javase-jdk8-downloads.html">https://www.oracle.com/uk/java/technologies/javase/javase-jdk8-downloads.html</a>. Alternatively, you may download the Red Hat OpenJDK 8 <a class="externalLink" href="https://developers.redhat.com/products/openjdk/download">https://developers.redhat.com/products/openjdk/download</a>.</li>
  
<li><b>Apache Maven</b>: Download the latest release from <a class="externalLink" href="https://maven.apache.org/download.cgi">https://maven.apache.org/download.cgi</a>.</li>
  
<li><b>Git</b>: Download the Git version control system (version 1.8 or newer) from <a class="externalLink" href="https://git-scm.com/download/">https://git-scm.com/download/</a></li>
  
<li><b>Apache Tomcat 7</b>: TEAM Engine has been tested with Tomcat 7.0; the latest release is available from <a class="externalLink" href="http://tomcat.apache.org/download-70.cgi">http://tomcat.apache.org/download-70.cgi</a>.</li>
</ul></div>
<div class="section">
<h3><a name="Get_the_source_code"></a>Get the source code</h3>
<p>The source code is available from <a class="externalLink" href="https://github.com/opengeospatial/teamengine">GitHub</a>. Use Git to clone the repository and checkout a branch or a tagged release as indicated below:</p>

<div class="source">
<div class="source"><pre class="prettyprint">git clone https://github.com/opengeospatial/teamengine.git
git checkout ${project.version}
</pre></div></div>
<p><a class="externalLink" href="http://maven.apache.org/">Apache Maven</a> 3.2.5 or later is required to build the teamengine code base, which currently consists of the following modules:</p>

<ul>
  
<li><b>teamengine-core</b>: Main CTL script processor</li>
  
<li><b>teamengine-resources</b>: Includes shared resources such as stylesheets  and schemas</li>
  
<li><b>teamengine-spi</b>: Provides an extensibility framework and a REST-like  API for test execution</li>
  
<li><b>teamengine-spi-ctl</b>: Enables the execution of legacy CTL test suites using a RESTful API.</li>
  
<li><b>teamengine-realm</b>: A custom Tomcat user realm for file-based authentication</li>
  
<li><b>teamengine-web</b>: A web application for executing test suites and  browsing test results</li>
  
<li><b>teamengine-console</b>: A console application that provides a command-line interface  for executing test suites in Unix and Windows environments.</li>
  
<li><b>teamengine-virtualization</b>: Enables the automatic creation of virtualization  images using <a class="externalLink" href="https://www.packer.io/">Packer</a>.</li>
</ul></div>
<div class="section">
<h3><a name="Build_with_Maven"></a>Build with Maven</h3>
<p>Simply run <tt>mvn package</tt> in the root project directory to generate all build artifacts, or run <tt>mvn install</tt> to also install them into the local Maven repository. The main build artifacts are listed below.</p>

<ul>
  
<li><b>teamengine-console-\${project.version}-bin.[zip|tar.gz]</b>: Archive containing the console application (command-line usage)</li>
  
<li><b>teamengine-console-\${project.version}-base.[zip|tar.gz]</b>: Archive containing the initial contents of the teamengine instance directory (TE_BASE)</li>
  
<li><b>teamengine.war</b>: The JEE (Servlet) web application</li>
  
<li><b>teamengine-common-libs.[zip|tar.gz]</b>: Archive containing common runtime dependencies (e.g. JAX-RS 1.1, Apache Derby)</li>
</ul>
<p>The site documentation can be generated by simply executing the &#x2018;mvn site&#x2019; phase against the top-level POM. An aggregrate PDF document is also created and placed in the target/pdf directory.</p></div>
<div class="section">
<h3><a name="Set_up_an_instance_directory_TE_BASE"></a>Set up an instance directory (TE_BASE)</h3>
<p>The value of the <tt>TE_BASE</tt> system property or environment variable specifies the location of the instance directory that contains several essential sub-directories. Create the TE_BASE directory (e.g. at /srv/teamengine) and unpack the contents of the teamengine-console-\${project.version}-base archive into this location; make sure that users (including the Tomcat user) have write access. The structure of the TE_BASE directory is shown below.</p>

<div class="source">
<div class="source"><pre class="prettyprint">TE_BASE
  |-- config.xml    # main configuration file
  |-- resources/    # test suite resources
      |-- site      # site-specific HTML (welcome, title, etc.)
      |-- lib       # Java-based test suites and supporting libraries
  |-- scripts/      # CTL test scripts
  |-- work/         # teamengine work directory
  +-- users/
     |-- {user1}/   # user account information and test run results
     |-- {user2}/
     +-- ...
</pre></div></div>
<p>CTL test scripts must be placed in the TE_BASE/scripts directory. Java-based test suites along with their supporting libraries are placed in the TE_BASE/resources/lib directory.</p></div>
<div class="section">
<h3><a name="Deploy_the_web_application"></a>Deploy the web application</h3>
<div class="section">
<h4><a name="System_requirements"></a>System requirements</h4>

<ul>
  
<li>Java runtime: Oracle JDK 8 - <a class="externalLink" href="http://www.oracle.com/technetwork/java/javase/downloads/">latest JDK release</a></li>
  
<li>Servlet container: Apache Tomcat 7.0 - <a class="externalLink" href="http://tomcat.apache.org/download-70.cgi">latest Tomcat release</a></li>
</ul></div>
<div class="section">
<h4><a name="Create_a_dedicated_Tomcat_instance"></a>Create a dedicated Tomcat instance</h4>
<p>Apache Tomcat 7.0 is a supported servlet container. It is <b>strongly</b> recommended that a dedicated Tomcat instance be created to host the teamengine application. That is, keep the location of the instance-specific data&#x2013;referred to as <tt>CATALINA_BASE</tt> in the Tomcat documentation&#x2013;separate from the Tomcat software installation (CATALINA_HOME). Create it as outlined below for your operating system.</p>
<p>To create a CATALINA_BASE directory in Windows:</p>

<div class="source">
<div class="source"><pre class="prettyprint">mkdir base-1 &amp; cd base-1
xcopy %CATALINA_HOME%\conf conf\
mkdir lib logs temp webapps work
</pre></div></div>
<p>In a Unix-like environment:</p>

<div class="source">
<div class="source"><pre class="prettyprint">sudo mkdir -p /srv/tomcat/base-1; cd /srv/tomcat/base-1
sudo cp -r $CATALINA_HOME/conf .
sudo mkdir lib logs temp webapps work
</pre></div></div>
<p>The recommended JVM options for the Tomcat instance are shown below. Note that the maximum memory heap size (<tt>-Xmx</tt>) may need to be increased as the number of concurrent users increases.</p>
<p><tt>CATALINA_OPTS=&quot;-server -Xmx1024m -XX:MaxPermSize=128m -DTE_BASE=$TE_BASE -Dderby.system.home=$DERBY_DATA&quot;</tt></p>
<p>Unpack the contents of the teamengine-common-libs archive into the CATALINA_BASE/lib directory. Deploy the <tt>teamengine.war</tt> component by either copying it into the CATALINA_BASE/webapps directory or using the Tomcat <i>Manager</i> application. Start the Tomcat instance.</p>
<p>The URIs listed below provide starting points for discovering and executing test suites. Modify the path if the name of the WAR file (and hence the context path) has been changed from the default value: &#x201c;teamengine&#x201d;.</p>

<ul>
  
<li><tt>/teamengine</tt>: Home page for selecting and running test suites using the web interface</li>
  
<li><tt>/teamengine/rest/suites</tt>: Presents a listing of available test suites that expose a RESTful API, with links to test suite documentation</li>
</ul></div></div>
<div class="section">
<h3><a name="Install_test_suites_in_TEAM_Engine"></a>Install test suites in TEAM Engine</h3>
<p>There are various examples of an executable test suite (ETS) that can be installed in TEAM Engine. For example,</p>

<ul>
  
<li><a class="externalLink" href="https://github.com/opengeospatial/ets-gml32">GML 3.2.1</a></li>
  
<li><a class="externalLink" href="https://github.com/opengeospatial/ets-wms13">WMS 1.3</a></li>
</ul>
<p>Even though the GML suite is a Java-based implementation that uses TestNG and the WMS 1.3 suite uses OGC CTL scripts, they both follow Maven conventions; the suites are built and deployed in a similar manner. To download and install a test suite do the following steps:</p>

<ol style="list-style-type: decimal">
  
<li>Checkout the test suite: e.g. <tt>git clone  https://github.com/opengeospatial/ets-gml32.git</tt></li>
  
<li>Change to the project directory <tt>cd ets-gml32</tt></li>
  
<li>Checkout a specific release version (run the <tt>git tag</tt> command to list these) e.g. for GML, <tt>git checkout 1.25</tt></li>
  
<li>Build the test suite: <tt>mvn clean install</tt></li>
  
<li>Check that the build is successful&#x2013;you should see <b>BUILD SUCCESS</b> displayed in the terminal output</li>
  
<li>Change to the target folder <tt>cd target</tt></li>
  
<li>Unpack the archive file that ends with <i>ctl.zip</i> into <tt>$TE_BASE/scripts</tt></li>
  
<li>If it exists, unpack the archive file that ends with <i>deps.zip</i> into <tt>$TE_BASE/resources/lib</tt></li>
</ol></div>
<div class="section">
<h3><a name="Customize_the_welcome_page"></a>Customize the welcome page</h3>
<p>Several elements of the welcome page may be customized if desired: the logo in the header, the main text, and the content in the footer. The files located in the TE_BASE/resources/site directory can be modified to provide site-specific content:</p>

<ul>
  
<li><b>site/logo.png</b>: The logo that appears in the header (at top left). The size of the default image is 127x58 px.</li>
  
<li><b>site/welcome.txt</b>: The main text.</li>
  
<li><b>site/footer.txt</b>: Footer content.</li>
  
<li><b>site/title.html</b>: Title of the web application</li>
</ul></div></div>
<div class="section">
<h2><a name="Using_a_proxy"></a>Using a proxy</h2>
<p>It is recommended to enable <a class="externalLink" href="https://en.wikipedia.org/wiki/HTTP_Strict_Transport_Security">HSTS</a> in proxy configuration when using TEAM Engine behind a reverse proxy.</p></div>
        </div>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright &copy;2023
<a href="http://www.opengeospatial.org/">Open Geospatial Consortium</a>.
All rights reserved.</p>
        </div>
        </div>
    </footer>
    </body>
</html>